<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SearchFilmBot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}"> <!-- Підключаємо CSS файл -->
</head>
<body>

<!-- Навігаційна панель з вкладками -->
<div class="navbar">
    <a href="#" class="navbar-item" onclick="openTab(event, 'films')">Фільми</a>
    <a href="#" class="navbar-item" onclick="openTab(event, 'series')">Серіали</a>
    <a href="#" class="navbar-item" onclick="openTab(event, 'anime')">Аніме</a>
    <a href="#" class="navbar-item" onclick="openTab(event, 'manga')">Манга</a>

    

    <!-- Пошуковий рядок всередині панелі навігації -->
    <form action="#" method="get" class="search-bar">
        <input type="text" placeholder="Пошук.." name="search" class="search-input">
    </form>

    <a href="#" class="navbar-item account" id="loginLink">Вхід
        <!-- Додаємо зображення як іконку акаунта -->
        <img src="{{ url_for('static', filename='Images/account-icon.png') }}" alt="Іконка акаунта" class="account-icon">
    </a>
</div>

<!-- Контейнер для вкладок -->
<div id="films" class="tab-content">
    <h2>Фільми</h2>
    <!-- Тут буде виведено список фільмів за допомогою Flask -->
    <div id="films-list">
        {% for film in films %}
            <div class="film-item">
                <h3>{{ film.title }}</h3>
                <p>{{ film.description }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<div id="series" class="tab-content" style="display:none;">
    <h2>Серіали</h2>
    <!-- Тут буде виведено список серіалів -->
    <div id="series-list">
        {% for series in series %}
            <div class="series-item">
                <h3>{{ series.title }}</h3>
                <p>{{ series.description }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<div id="anime" class="tab-content" style="display:none;">
    <h2>Аніме</h2>
    <!-- Тут буде виведено список аніме -->
    <div id="anime-list">
        {% for anime in anime %}
            <div class="anime-item">
                <h3>{{ anime.title }}</h3>
                <p>{{ anime.description }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<div id="manga" class="tab-content" style="display:none;">
    <h2>Манга</h2>
    <!-- Тут буде виведено список манги -->
    <div id="manga-list">
        {% for manga in manga %}
            <div class="manga-item">
                <h3>{{ manga.title }}</h3>
                <p>{{ manga.description }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<!-- Модальне вікно для авторизації -->
<div id="loginModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Вхід в акаунт</h2>
        <form action="#" method="post">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" required>
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>
            <button type="submit" class="login-button">Увійти</button>
        </form>
    </div>
</div>

<!-- JavaScript для вкладок і модального вікна -->
<script>
    // Функція для відкриття вкладки
    function openTab(event, tabId) {
        // Приховуємо весь вміст вкладок
        const tabContents = document.querySelectorAll(".tab-content");
        tabContents.forEach(content => content.style.display = "none");

        // Знімаємо активний клас з усіх вкладок
        const navbarItems = document.querySelectorAll(".navbar-item");
        navbarItems.forEach(item => item.classList.remove("active"));

        // Показуємо обраний вміст і встановлюємо активний стан для вибраної вкладки
        document.getElementById(tabId).style.display = "block";
        event.currentTarget.classList.add("active");
    }

    // Відкриває модальне вікно при натисканні на "Акаунт"
    document.querySelector('#loginLink').onclick = function(event) {
        event.preventDefault();
        document.getElementById('loginModal').style.display = 'flex';
    }

    // Закриває модальне вікно
    function closeModal() {
        document.getElementById('loginModal').style.display = 'none';
    }

    // Закриває модальне вікно при натисканні поза його межами
    window.onclick = function(event) {
        const modal = document.getElementById('loginModal');
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    }

    // Показуємо першу вкладку за замовчуванням
    document.getElementById("films").style.display = "block";
</script>

</body>
</html>
